<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #34495e; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: #2c3e50; }
      .small-text { font-family: Arial, sans-serif; font-size: 10px; fill: #7f8c8d; }
      .backend-box { fill: #e8f5e8; stroke: #27ae60; stroke-width: 2; }
      .frontend-box { fill: #e3f2fd; stroke: #2196f3; stroke-width: 2; }
      .database-box { fill: #fff3e0; stroke: #ff9800; stroke-width: 2; }
      .layer-box { fill: #f8f9fa; stroke: #6c757d; stroke-width: 1; }
      .component-box { fill: #ffffff; stroke: #495057; stroke-width: 1; }
      .arrow { stroke: #495057; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .data-flow { stroke: #e74c3c; stroke-width: 2; fill: none; marker-end: url(#arrowhead-red); stroke-dasharray: 5,5; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#495057" />
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
    </marker>
  </defs>

  <!-- T√≠tulo -->
  <text x="700" y="30" text-anchor="middle" class="title">Arquitetura do Sistema Receita Secreta</text>
  <text x="700" y="55" text-anchor="middle" class="small-text">Spring Boot + React + PostgreSQL</text>

  <!-- Frontend Section -->
  <rect x="50" y="80" width="600" height="400" class="frontend-box" rx="10"/>
  <text x="350" y="105" text-anchor="middle" class="subtitle">FRONTEND (React + TypeScript)</text>
  <text x="350" y="125" text-anchor="middle" class="small-text">Port: 5173 | Vite + Tailwind CSS</text>

  <!-- Frontend Layers -->
  <!-- Pages Layer -->
  <rect x="70" y="140" width="560" height="60" class="layer-box" rx="5"/>
  <text x="80" y="155" class="text">üìÑ Pages Layer</text>
  <rect x="80" y="160" width="80" height="30" class="component-box" rx="3"/>
  <text x="120" y="178" text-anchor="middle" class="small-text">Login</text>
  <rect x="170" y="160" width="80" height="30" class="component-box" rx="3"/>
  <text x="210" y="178" text-anchor="middle" class="small-text">Dashboard</text>
  <rect x="260" y="160" width="80" height="30" class="component-box" rx="3"/>
  <text x="300" y="178" text-anchor="middle" class="small-text">ReceitasList</text>
  <rect x="350" y="160" width="80" height="30" class="component-box" rx="3"/>
  <text x="390" y="178" text-anchor="middle" class="small-text">ReceitaForm</text>
  <rect x="440" y="160" width="80" height="30" class="component-box" rx="3"/>
  <text x="480" y="178" text-anchor="middle" class="small-text">ProdutosList</text>
  <rect x="530" y="160" width="80" height="30" class="component-box" rx="3"/>
  <text x="570" y="178" text-anchor="middle" class="small-text">UsersList</text>

  <!-- Components Layer -->
  <rect x="70" y="210" width="560" height="60" class="layer-box" rx="5"/>
  <text x="80" y="225" class="text">üß© Components Layer</text>
  <rect x="80" y="230" width="70" height="30" class="component-box" rx="3"/>
  <text x="115" y="248" text-anchor="middle" class="small-text">Layout</text>
  <rect x="160" y="230" width="70" height="30" class="component-box" rx="3"/>
  <text x="195" y="248" text-anchor="middle" class="small-text">Modal</text>
  <rect x="240" y="230" width="70" height="30" class="component-box" rx="3"/>
  <text x="275" y="248" text-anchor="middle" class="small-text">Loading</text>
  <rect x="320" y="230" width="90" height="30" class="component-box" rx="3"/>
  <text x="365" y="248" text-anchor="middle" class="small-text">ProtectedRoute</text>
  <rect x="420" y="230" width="70" height="30" class="component-box" rx="3"/>
  <text x="455" y="248" text-anchor="middle" class="small-text">UI/Button</text>
  <rect x="500" y="230" width="70" height="30" class="component-box" rx="3"/>
  <text x="535" y="248" text-anchor="middle" class="small-text">UI/Card</text>

  <!-- Hooks & Context Layer -->
  <rect x="70" y="280" width="560" height="60" class="layer-box" rx="5"/>
  <text x="80" y="295" class="text">üé£ Hooks & Context Layer</text>
  <rect x="80" y="300" width="80" height="30" class="component-box" rx="3"/>
  <text x="120" y="318" text-anchor="middle" class="small-text">useAuth</text>
  <rect x="170" y="300" width="80" height="30" class="component-box" rx="3"/>
  <text x="210" y="318" text-anchor="middle" class="small-text">useApi</text>
  <rect x="260" y="300" width="100" height="30" class="component-box" rx="3"/>
  <text x="310" y="318" text-anchor="middle" class="small-text">AuthContext</text>
  <rect x="370" y="300" width="100" height="30" class="component-box" rx="3"/>
  <text x="420" y="318" text-anchor="middle" class="small-text">React Query</text>
  <rect x="480" y="300" width="100" height="30" class="component-box" rx="3"/>
  <text x="530" y="318" text-anchor="middle" class="small-text">React Router</text>

  <!-- Services Layer -->
  <rect x="70" y="350" width="560" height="60" class="layer-box" rx="5"/>
  <text x="80" y="365" class="text">üîß Services Layer</text>
  <rect x="80" y="370" width="100" height="30" class="component-box" rx="3"/>
  <text x="130" y="388" text-anchor="middle" class="small-text">API Service</text>
  <rect x="190" y="370" width="100" height="30" class="component-box" rx="3"/>
  <text x="240" y="388" text-anchor="middle" class="small-text">Axios Client</text>
  <rect x="300" y="370" width="100" height="30" class="component-box" rx="3"/>
  <text x="350" y="388" text-anchor="middle" class="small-text">Auth Service</text>
  <rect x="410" y="370" width="100" height="30" class="component-box" rx="3"/>
  <text x="460" y="388" text-anchor="middle" class="small-text">HTTP Client</text>

  <!-- Types & Utils -->
  <rect x="70" y="420" width="560" height="50" class="layer-box" rx="5"/>
  <text x="80" y="435" class="text">üìù Types & Utils</text>
  <rect x="80" y="440" width="80" height="25" class="component-box" rx="3"/>
  <text x="120" y="455" text-anchor="middle" class="small-text">TypeScript</text>
  <rect x="170" y="440" width="80" height="25" class="component-box" rx="3"/>
  <text x="210" y="455" text-anchor="middle" class="small-text">Interfaces</text>
  <rect x="260" y="440" width="80" height="25" class="component-box" rx="3"/>
  <text x="300" y="455" text-anchor="middle" class="small-text">Enums</text>
  <rect x="350" y="440" width="80" height="25" class="component-box" rx="3"/>
  <text x="390" y="455" text-anchor="middle" class="small-text">Utils</text>
  <rect x="440" y="440" width="80" height="25" class="component-box" rx="3"/>
  <text x="480" y="455" text-anchor="middle" class="small-text">Constants</text>

  <!-- Backend Section -->
  <rect x="750" y="80" width="600" height="500" class="backend-box" rx="10"/>
  <text x="1050" y="105" text-anchor="middle" class="subtitle">BACKEND (Spring Boot + Java 21)</text>
  <text x="1050" y="125" text-anchor="middle" class="small-text">Port: 8082 | Context: /receitasecreta/</text>

  <!-- Controllers Layer -->
  <rect x="770" y="140" width="560" height="60" class="layer-box" rx="5"/>
  <text x="780" y="155" class="text">üéÆ Controllers Layer (REST API)</text>
  <rect x="780" y="160" width="90" height="30" class="component-box" rx="3"/>
  <text x="825" y="178" text-anchor="middle" class="small-text">AuthController</text>
  <rect x="880" y="160" width="90" height="30" class="component-box" rx="3"/>
  <text x="925" y="178" text-anchor="middle" class="small-text">ReceitaController</text>
  <rect x="980" y="160" width="90" height="30" class="component-box" rx="3"/>
  <text x="1025" y="178" text-anchor="middle" class="small-text">ProdutoController</text>
  <rect x="1080" y="160" width="90" height="30" class="component-box" rx="3"/>
  <text x="1125" y="178" text-anchor="middle" class="small-text">UserController</text>
  <rect x="1180" y="160" width="90" height="30" class="component-box" rx="3"/>
  <text x="1225" y="178" text-anchor="middle" class="small-text">AuditController</text>

  <!-- Security Layer -->
  <rect x="770" y="210" width="560" height="60" class="layer-box" rx="5"/>
  <text x="780" y="225" class="text">üîê Security Layer</text>
  <rect x="780" y="230" width="100" height="30" class="component-box" rx="3"/>
  <text x="830" y="248" text-anchor="middle" class="small-text">SecurityFilter</text>
  <rect x="890" y="230" width="100" height="30" class="component-box" rx="3"/>
  <text x="940" y="248" text-anchor="middle" class="small-text">TokenService</text>
  <rect x="1000" y="230" width="120" height="30" class="component-box" rx="3"/>
  <text x="1060" y="248" text-anchor="middle" class="small-text">SecurityConfig</text>
  <rect x="1130" y="230" width="100" height="30" class="component-box" rx="3"/>
  <text x="1180" y="248" text-anchor="middle" class="small-text">JWT Auth</text>

  <!-- Services Layer -->
  <rect x="770" y="280" width="560" height="60" class="layer-box" rx="5"/>
  <text x="780" y="295" class="text">‚öôÔ∏è Services Layer (Business Logic)</text>
  <rect x="780" y="300" width="90" height="30" class="component-box" rx="3"/>
  <text x="825" y="318" text-anchor="middle" class="small-text">AuthService</text>
  <rect x="880" y="300" width="90" height="30" class="component-box" rx="3"/>
  <text x="925" y="318" text-anchor="middle" class="small-text">ReceitaService</text>
  <rect x="980" y="300" width="90" height="30" class="component-box" rx="3"/>
  <text x="1025" y="318" text-anchor="middle" class="small-text">ProdutoService</text>
  <rect x="1080" y="300" width="90" height="30" class="component-box" rx="3"/>
  <text x="1125" y="318" text-anchor="middle" class="small-text">UserService</text>
  <rect x="1180" y="300" width="90" height="30" class="component-box" rx="3"/>
  <text x="1225" y="318" text-anchor="middle" class="small-text">EmailService</text>

  <!-- Repository Layer -->
  <rect x="770" y="350" width="560" height="60" class="layer-box" rx="5"/>
  <text x="780" y="365" class="text">üóÑÔ∏è Repository Layer (Data Access)</text>
  <rect x="780" y="370" width="100" height="30" class="component-box" rx="3"/>
  <text x="830" y="388" text-anchor="middle" class="small-text">UserRepository</text>
  <rect x="890" y="370" width="110" height="30" class="component-box" rx="3"/>
  <text x="945" y="388" text-anchor="middle" class="small-text">ReceitaRepository</text>
  <rect x="1010" y="370" width="110" height="30" class="component-box" rx="3"/>
  <text x="1065" y="388" text-anchor="middle" class="small-text">ProdutoRepository</text>
  <rect x="1130" y="370" width="140" height="30" class="component-box" rx="3"/>
  <text x="1200" y="388" text-anchor="middle" class="small-text">ReceitaIngredienteRepo</text>

  <!-- Models Layer -->
  <rect x="770" y="420" width="560" height="60" class="layer-box" rx="5"/>
  <text x="780" y="435" class="text">üìä Models Layer (JPA Entities)</text>
  <rect x="780" y="440" width="80" height="30" class="component-box" rx="3"/>
  <text x="820" y="458" text-anchor="middle" class="small-text">User</text>
  <rect x="870" y="440" width="80" height="30" class="component-box" rx="3"/>
  <text x="910" y="458" text-anchor="middle" class="small-text">Receita</text>
  <rect x="960" y="440" width="80" height="30" class="component-box" rx="3"/>
  <text x="1000" y="458" text-anchor="middle" class="small-text">Produto</text>
  <rect x="1050" y="440" width="120" height="30" class="component-box" rx="3"/>
  <text x="1110" y="458" text-anchor="middle" class="small-text">ReceitaIngrediente</text>
  <rect x="1180" y="440" width="120" height="30" class="component-box" rx="3"/>
  <text x="1240" y="458" text-anchor="middle" class="small-text">PasswordResetToken</text>

  <!-- DTOs & Configs -->
  <rect x="770" y="490" width="560" height="60" class="layer-box" rx="5"/>
  <text x="780" y="505" class="text">üì¶ DTOs, Configs & Utils</text>
  <rect x="780" y="510" width="80" height="30" class="component-box" rx="3"/>
  <text x="820" y="528" text-anchor="middle" class="small-text">DTOs</text>
  <rect x="870" y="510" width="80" height="30" class="component-box" rx="3"/>
  <text x="910" y="528" text-anchor="middle" class="small-text">Enums</text>
  <rect x="960" y="510" width="80" height="30" class="component-box" rx="3"/>
  <text x="1000" y="528" text-anchor="middle" class="small-text">Configs</text>
  <rect x="1050" y="510" width="80" height="30" class="component-box" rx="3"/>
  <text x="1090" y="528" text-anchor="middle" class="small-text">Validators</text>
  <rect x="1140" y="510" width="80" height="30" class="component-box" rx="3"/>
  <text x="1180" y="528" text-anchor="middle" class="small-text">Exceptions</text>
  <rect x="1230" y="510" width="80" height="30" class="component-box" rx="3"/>
  <text x="1270" y="528" text-anchor="middle" class="small-text">OpenAPI</text>

  <!-- Database Section -->
  <rect x="750" y="620" width="600" height="120" class="database-box" rx="10"/>
  <text x="1050" y="645" text-anchor="middle" class="subtitle">DATABASE (PostgreSQL)</text>
  <text x="1050" y="665" text-anchor="middle" class="small-text">Port: 5432 | Database: receitasecreta</text>

  <!-- Database Tables -->
  <rect x="780" y="680" width="100" height="50" class="component-box" rx="3"/>
  <text x="830" y="695" text-anchor="middle" class="small-text">users</text>
  <text x="830" y="710" text-anchor="middle" class="small-text">‚Ä¢ id, username</text>
  <text x="830" y="720" text-anchor="middle" class="small-text">‚Ä¢ email, password</text>

  <rect x="900" y="680" width="100" height="50" class="component-box" rx="3"/>
  <text x="950" y="695" text-anchor="middle" class="small-text">receitas</text>
  <text x="950" y="710" text-anchor="middle" class="small-text">‚Ä¢ id, nome</text>
  <text x="950" y="720" text-anchor="middle" class="small-text">‚Ä¢ categoria, user_id</text>

  <rect x="1020" y="680" width="100" height="50" class="component-box" rx="3"/>
  <text x="1070" y="695" text-anchor="middle" class="small-text">produtos</text>
  <text x="1070" y="710" text-anchor="middle" class="small-text">‚Ä¢ id, nome</text>
  <text x="1070" y="720" text-anchor="middle" class="small-text">‚Ä¢ categoria, unidade</text>

  <rect x="1140" y="680" width="120" height="50" class="component-box" rx="3"/>
  <text x="1200" y="695" text-anchor="middle" class="small-text">receita_ingredientes</text>
  <text x="1200" y="710" text-anchor="middle" class="small-text">‚Ä¢ receita_id, produto_id</text>
  <text x="1200" y="720" text-anchor="middle" class="small-text">‚Ä¢ quantidade, unidade</text>

  <!-- External Services -->
  <rect x="50" y="520" width="250" height="80" class="layer-box" rx="10"/>
  <text x="175" y="540" text-anchor="middle" class="subtitle">EXTERNAL SERVICES</text>
  <rect x="70" y="550" width="100" height="40" class="component-box" rx="3"/>
  <text x="120" y="565" text-anchor="middle" class="small-text">SMTP Server</text>
  <text x="120" y="580" text-anchor="middle" class="small-text">(Email Service)</text>
  <rect x="180" y="550" width="100" height="40" class="component-box" rx="3"/>
  <text x="230" y="565" text-anchor="middle" class="small-text">Flyway</text>
  <text x="230" y="580" text-anchor="middle" class="small-text">(DB Migration)</text>

  <!-- Testing Infrastructure -->
  <rect x="50" y="620" width="600" height="120" class="layer-box" rx="10"/>
  <text x="350" y="645" text-anchor="middle" class="subtitle">TESTING INFRASTRUCTURE</text>
  
  <!-- Frontend Tests -->
  <rect x="70" y="660" width="260" height="70" class="frontend-box" rx="5"/>
  <text x="200" y="680" text-anchor="middle" class="text">Frontend Tests</text>
  <rect x="80" y="685" width="70" height="20" class="component-box" rx="2"/>
  <text x="115" y="697" text-anchor="middle" class="small-text">Vitest</text>
  <rect x="160" y="685" width="80" height="20" class="component-box" rx="2"/>
  <text x="200" y="697" text-anchor="middle" class="small-text">Testing Library</text>
  <rect x="250" y="685" width="70" height="20" class="component-box" rx="2"/>
  <text x="285" y="697" text-anchor="middle" class="small-text">MSW</text>
  <rect x="80" y="710" width="70" height="20" class="component-box" rx="2"/>
  <text x="115" y="722" text-anchor="middle" class="small-text">Jest-Axe</text>
  <rect x="160" y="710" width="80" height="20" class="component-box" rx="2"/>
  <text x="200" y="722" text-anchor="middle" class="small-text">User Events</text>

  <!-- Backend Tests -->
  <rect x="350" y="660" width="280" height="70" class="backend-box" rx="5"/>
  <text x="490" y="680" text-anchor="middle" class="text">Backend Tests</text>
  <rect x="360" y="685" width="60" height="20" class="component-box" rx="2"/>
  <text x="390" y="697" text-anchor="middle" class="small-text">JUnit 5</text>
  <rect x="430" y="685" width="60" height="20" class="component-box" rx="2"/>
  <text x="460" y="697" text-anchor="middle" class="small-text">Mockito</text>
  <rect x="500" y="685" width="60" height="20" class="component-box" rx="2"/>
  <text x="530" y="697" text-anchor="middle" class="small-text">TestContainers</text>
  <rect x="570" y="685" width="50" height="20" class="component-box" rx="2"/>
  <text x="595" y="697" text-anchor="middle" class="small-text">H2 DB</text>
  <rect x="360" y="710" width="80" height="20" class="component-box" rx="2"/>
  <text x="400" y="722" text-anchor="middle" class="small-text">Spring Test</text>
  <rect x="450" y="710" width="80" height="20" class="component-box" rx="2"/>
  <text x="490" y="722" text-anchor="middle" class="small-text">WebMvcTest</text>
  <rect x="540" y="710" width="80" height="20" class="component-box" rx="2"/>
  <text x="580" y="722" text-anchor="middle" class="small-text">DataJpaTest</text>

  <!-- Communication Arrows -->
  <!-- Frontend to Backend -->
  <line x1="650" y1="280" x2="750" y2="280" class="arrow"/>
  <text x="700" y="275" text-anchor="middle" class="small-text">HTTP/REST API</text>
  <text x="700" y="290" text-anchor="middle" class="small-text">JWT Authentication</text>

  <!-- Backend to Database -->
  <line x1="1050" y1="580" x2="1050" y2="620" class="arrow"/>
  <text x="1100" y="605" class="small-text">JPA/Hibernate</text>

  <!-- External Services to Backend -->
  <line x1="300" y1="560" x2="750" y2="400" class="arrow"/>
  <text x="525" y="480" text-anchor="middle" class="small-text">Email & Migration</text>

  <!-- Data Flow Arrows -->
  <line x1="350" y1="400" x2="350" y2="480" class="data-flow"/>
  <text x="380" y="440" class="small-text">User Actions</text>
  
  <line x1="1050" y1="140" x2="1050" y2="80" class="data-flow"/>
  <text x="1100" y="110" class="small-text">API Responses</text>

  <!-- Technology Stack Info -->
  <rect x="50" y="760" width="1300" height="200" class="layer-box" rx="10"/>
  <text x="700" y="785" text-anchor="middle" class="subtitle">STACK TECNOL√ìGICO E CARACTER√çSTICAS</text>

  <!-- Frontend Stack -->
  <rect x="70" y="800" width="400" height="150" class="frontend-box" rx="5"/>
  <text x="270" y="820" text-anchor="middle" class="text">Frontend Technologies</text>
  <text x="80" y="840" class="small-text">‚Ä¢ React 19.1.1 + TypeScript</text>
  <text x="80" y="855" class="small-text">‚Ä¢ Vite (Build Tool) + SWC (Compiler)</text>
  <text x="80" y="870" class="small-text">‚Ä¢ React Router DOM (Routing)</text>
  <text x="80" y="885" class="small-text">‚Ä¢ React Query (State Management)</text>
  <text x="80" y="900" class="small-text">‚Ä¢ React Hook Form (Forms)</text>
  <text x="80" y="915" class="small-text">‚Ä¢ Tailwind CSS (Styling)</text>
  <text x="80" y="930" class="small-text">‚Ä¢ Axios (HTTP Client)</text>

  <!-- Backend Stack -->
  <rect x="490" y="800" width="400" height="150" class="backend-box" rx="5"/>
  <text x="690" y="820" text-anchor="middle" class="text">Backend Technologies</text>
  <text x="500" y="840" class="small-text">‚Ä¢ Java 21 + Spring Boot 3.4.4</text>
  <text x="500" y="855" class="small-text">‚Ä¢ Spring Security + JWT</text>
  <text x="500" y="870" class="small-text">‚Ä¢ Spring Data JPA + Hibernate</text>
  <text x="500" y="885" class="small-text">‚Ä¢ PostgreSQL Database</text>
  <text x="500" y="900" class="small-text">‚Ä¢ Flyway (DB Migration)</text>
  <text x="500" y="915" class="small-text">‚Ä¢ Maven (Build Tool)</text>
  <text x="500" y="930" class="small-text">‚Ä¢ OpenAPI/Swagger (Documentation)</text>

  <!-- DevOps & Tools -->
  <rect x="910" y="800" width="420" height="150" class="database-box" rx="5"/>
  <text x="1120" y="820" text-anchor="middle" class="text">DevOps & Development Tools</text>
  <text x="920" y="840" class="small-text">‚Ä¢ Git (Version Control)</text>
  <text x="920" y="855" class="small-text">‚Ä¢ Yarn (Package Manager)</text>
  <text x="920" y="870" class="small-text">‚Ä¢ ESLint + TypeScript (Code Quality)</text>
  <text x="920" y="885" class="small-text">‚Ä¢ Vitest + JUnit 5 (Testing)</text>
  <text x="920" y="900" class="small-text">‚Ä¢ SMTP Email Service</text>
  <text x="920" y="915" class="small-text">‚Ä¢ Environment Configuration</text>
  <text x="920" y="930" class="small-text">‚Ä¢ Hot Reload Development</text>

</svg>